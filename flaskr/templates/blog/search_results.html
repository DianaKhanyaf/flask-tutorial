{% extends 'base.html' %}

{% block title %}Search Results{% endblock %}

{% block content %}
  <h2>Search Results</h2>
  {% if lyrics %}
    <ul>
      {% for lyric in lyrics %}
        <li>{{ highlight_keyword(lyric['lyrics'], keyword) }}</li>
      {% endfor %}
    </ul>
  {% else %}
    <p>No results found.</p>
  {% endif %}
{% endblock %}

{% macro highlight_keyword(lyrics, keyword) %}
  {% set highlighted_lyrics = lyrics.replace(keyword, '<span class="highlight">' + keyword + '</span>') %}
  {{ highlighted_lyrics|safe }}
{% endmacro %}